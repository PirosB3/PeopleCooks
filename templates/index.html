<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>PeopleCooks</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="recipes">
    <meta name="author" content="Daniel Pyrathon">

    <link href="/assets/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
      .pc_space {
        margin-top: 20px;
      }
    </style>
    <link href="css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="shortcut icon" href="/assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">PeopleCooks</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class="active"><a href="#">Home</a></li>
              <li><a href="#about">About</a></li>
              <li><a href="#contact">Contact</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <ul class="span3 nav nav-list well">
          <li class="nav-header">
            Recipes
          </li>
          <!-- ELEMENTS -->
          <li class="active">
            <a href="#">Pollo alla cacciatora</a>
          </li>
          <li>
            <a href="#">Bucatini alla amatriciana</a>
          </li>
          <!-- END ELEMENTS -->
        </ul>
        <div class="span6">
          <h1>Bucatini alla Amatriciana</h1>
          <div class="pc_description pc_space">
             <h3>Description</h3>
             Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
          </div>
          <div class="pc_steps pc_space">
             <h3>Procedure</h3>
             <table id="pc_ingredients" class="table">
               <thead>
                 <tr>
                   <th>#</th>
                   <th>Steps</th>
                 </tr>
               </thead>
               <thead>
                 <tr>
                   <td>1</td>
                   <td>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</td>
                 </tr>
                 <tr>
                   <td>2</td>
                   <td>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</td>
                 </tr>
                 <tr>
                   <td>3</td>
                   <td>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</td>
                 </tr>
                 <tr>
                   <td>4</td>
                   <td>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</td>
                 </tr>
               </thead>
             </table>
          </div>
          <div class="pc_ingredients pc_space">
             <h3>Ingredients</h3>
             <table class="table table-striped table-bordered table-condensed">
               <thead>
                 <tr>
                   <th>Ingredient</th>
                   <th>Amount</th>
                 </tr>
               </thead>
               <thead>
                 <tr>
                   <td>Cicoria</td>
                   <td>2 chili</td>
                 </tr>
               </thead>
             </table>
          </div>
        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>
    <script src="/assets/js/peoplecooks.js"></script>
    <script type="text/javascript">
      $(function() {
          // Recipe list element
          getRecipeTag = function() {
            var listTemplate = _.template('<a class="pc_get_detail" href="<%= url %>"><%= name %></a>');
            return function(recipe_name) {
              return listTemplate({
                name: recipe_name,
                url: PC.getRecipeByTitleURL(recipe_name)
              });
            }
          }();
          // On load, download all recipe names
          $.ajax('/api/getRecipeNames', function(res) {
            // Delete old elements
            $('#pc_ingredients .pc_get_detail').delete();
            res.forEach(function(i, el) {
              $('#pc_ingredients').append(getRecipeTag(el));
            })
          });
      });
    </script>
  </body>
</html>
